<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="css/style.css">

    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Roboto:300,400,700|Source+Sans+Pro:700" rel="stylesheet">

    <!-- JS/JQUERY -->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script type="text/javascript" src="animatescroll.js"></script>
    <script src = "logging.js"></script>
    <script type="text/javascript">
      $(function () {
        $(document).scroll(function () {
          var $nav = $(".navbar");
          var $logoNav = $(".logo-nav");
          $nav.toggleClass('scrolled',$(this).scrollTop() > $nav.height());
          $logoNav.toggleClass('scrolled', $(this).scrollTop()>$nav.height()); 
        });
        $('#thankyou').removeClass("os");
        $('#form1').submit(function(e){
  
            e.preventDefault(); // Prevent Default Submission
          
            $.ajax({
               url: 'insert.php',
               type: 'POST',
               data: $(this).serialize(), // it will serialize the form data
                      dataType: 'html'
                  });
            $('#thankyou').removeClass("thanks");
            $('#thankyou').addClass("os");
            $('#thankyou').addClass("alert");
            $('#thankyou').addClass("alert-success");
            $('#form-1').addClass('f-submit')
          });
        
      });

      var cartObject = {}
      var cartArray = []
      var cartCount = 0

      function pushAttAdv(){
        var e1 = document.getElementById("dateId");
        var e2 = document.getElementById("opId");
        var e3 = document.getElementById("quanId");
        var e4 = document.getElementById("attName");
        cartObject.name = e4.innerHTML;
        cartObject.date = e1.value;
        cartObject.option = e2.options[e2.selectedIndex].text;
        cartObject.quantity = e3.options[e3.selectedIndex].text;
        cartArray.push({...cartObject})
        console.log(cartArray)
        createCart()
      }

      function createCart(){
        $("#cartTable tr").remove(); 
        $("#cartFormDiv").removeClass("cartFormDiv");
        $("#cartFormDiv").addClass("cartFormDivShow");
        cartCount = cartCount + 1
        document.getElementById("cartCount").innerHTML = cartCount;
        cartArray.forEach(element => {
          var table = document.getElementById("cartTable");
          var row = table.insertRow(0)
          var cell1 = row.insertCell(0);
          var cell2 = row.insertCell(1);
          var cell3 = row.insertCell(2);
          var cell4 = row.insertCell(3);
          cell1.innerHTML = element.name;
          cell2.innerHTML = element.option;
          cell3.innerHTML = element.quantity;
          cell4.innerHTML = element.date;
        });
      }

      function test1(){
        loggingjs.logEvent(null,'test',{
          eventName:'test',
          info:{'key':'val'}
        });
      }
      function sendCustomEvent() {
        console.log('sendCustomEvent');
        document.dispatchEvent(new CustomEvent('myevent', { detail: {
          eventName: 'myeventName',
          info: {'key1': 'val1', 'key2': 'val2'}
        }}));
      }
      document.addEventListener('myevent', loggingjs.logEvent, true);

      function sendCustomEvent2() {
        console.log('sendCustomEvent2');
        loggingjs.logEvent(null, 'myevent2', {
          eventName: 'myeventName',
          info: {'key1': 'val1', 'key2': 'val2'}
        });
      }

    </script>

    <title>Sentosa Resorts</title>
  </head>
  <body>
    <nav class="navbar navbar-expand-md fixed-top">
      <a href="#" class="nav-logo-a" onclick="test1();$('#home-con').animatescroll();" href="#"><img src="img/sentosa_logo.png" class="logo-nav img-fluid"></a>
        <a class="navbar-toggler" data-toggle="collapse" data-target="#nav-coll" aria-controls="nav-coll" aria-expanded="false" aria-label="Toggle navigation" onclick="$('.navbar').toggleClass('scrolled');">
             &#9776
          </a>
      <div class="collapse navbar-collapse" id="nav-coll">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" onclick="$('#home-con').animatescroll();$('.navbar-collapse').collapse('hide');" href="#">HOME</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" onclick="$('#services-con').animatescroll();$('.navbar-collapse').collapse('hide');" href="#">ATTRACTIONS</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="true" aria-controls="panelsStayOpen-collapseOne" href="#">CART <i class="fa fa-shopping-cart"></i></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" onclick="$('#contact-con').animatescroll();$('.navbar-collapse').collapse('hide');" href="#">CONTACT</a>
          </li>
        </ul>
      </div>
    </nav>

    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <img src="img/av1.png" class="modal-att-img" />
          </div>
          <div class="modal-body">
            <h5 id="attName">Adventure Cove Waterpark</h5>
            <form>
              <input type="date" class="form-modal" name="date" id="dateId" />
              <select class="form-select form-modal" aria-label="Default select example" name="select" id="opId">
                <option selected>Select Option</option>
                <option value="1">Resident</option>
                <option value="2">op2</option>
                <option value="3">op3</option>
              </select>
              <select class="form-select form-modal" aria-label="Default select example" name="quantity" id="quanId" >
                <option selected>Quantity</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
              </select>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" data-bs-dismiss="modal" onclick="pushAttAdv()">Add to cart</button>
          </div>
        </div>
      </div>
    </div>

    <div class="container-fluid con2 con-bg">
      <div class="row" style="margin-top: 50px;">
        <div class="col-sm-4 con2-col1">
          <h6 style="font-weight: bolder;">THINGS TO DO</h6>
          <h2 style="font-weight: bolder;color:#f8a909;margin-bottom:30px">ATTRACTIONS</h2>
          <p style="width: 150px;">Discover things to do on the island</p>
        </div>
        <div class="col-sm-8 con2-col2">
          <div class="row row-cols-md-4">
            <div class="col">
              <div class="card headerCard">
                <div class="card-body headerCardBody">
                  <center>
                    <img src="img/hc1.png" class="headerCardImg" />
                    <h6 style="font-weight:bold">Adventure</h6>
                  </center>
                </div>
              </div>
            </div>
            <div class="col">
              <div class="card headerCard">
                <div class="card-body headerCardBody">
                  <center>
                    <img src="img/hc1.png" class="headerCardImg" />
                    <h6 style="font-weight:bold">Adventure</h6>
                  </center>
                </div>
              </div>
            </div>
            <div class="col">
              <div class="card headerCard">
                <div class="card-body headerCardBody">
                  <center>
                    <img src="img/hc1.png" class="headerCardImg" />
                    <h6 style="font-weight:bold">Adventure</h6>
                  </center>
                </div>
              </div>
            </div>
            <div class="col">
              <div class="card headerCard">
                <div class="card-body headerCardBody">
                  <center>
                    <img src="img/hc1.png" class="headerCardImg" />
                    <h6 style="font-weight:bold">Adventure</h6>
                  </center>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container-fluid con3 con-bg" id="services-con">
      <div class="row">
        <div class="col-sm-12">
          <center>
            <div class="card-deck">
              <div class="card">
                <div class="card-header">
                  <img src="img/av1.png" class="card-img" />
                </div>
                <div class="card-body">
                  <h6 class="att-heading">Adventure Cove Waterpark</h6>
                  <div class="buy-row d-flex flex-row justify-content-around w-100 flex-wrap">
                    <div class="align-items-center align-self-center">
                      <p class="price-p">Price from</p>
                      <h6 class="att-price align-items-center align-self-center">$38.<span style="font-size:0.8em">00</span></h6>
                    </div>
                    <div class="align-items-center align-self-center">
                      <button class="btn btn-primary btn-buy align-items-center align-self-center" data-bs-toggle="modal" data-bs-target="#exampleModal">Buy Now</button>
                    </div>
                  </div>
                  <div class="att-info">
                    <p class="att-subheading">Resort World Sentosa</p>
                    <p class="att-text">From zooming down high-speed water slides to drifting lazily down a winding river</p>
                  </div>
                  <button class="btn btn-seeMore">SEE MORE</button>
                </div>
              </div>
              <div class="card">
                <div class="card-header">
                  <img src="img/av1.png" class="card-img" />
                </div>
                <div class="card-body">
                  <h6 class="att-heading">Adventure Cove Waterpark</h6>
                  <div class="buy-row d-flex flex-row justify-content-around w-100 flex-wrap">
                    <div class="align-items-center align-self-center">
                      <p class="price-p">Price from</p>
                      <h6 class="att-price align-items-center align-self-center">$38.<span style="font-size:0.8em">00</span></h6>
                    </div>
                    <div class="align-items-center align-self-center">
                      <button class="btn btn-primary btn-buy align-items-center align-self-center" data-bs-toggle="modal" data-bs-target="#exampleModal">Buy Now</button>
                    </div>
                  </div>
                  <div class="att-info">
                    <p class="att-subheading">Resort World Sentosa</p>
                    <p class="att-text">From zooming down high-speed water slides to drifting lazily down a winding river</p>
                  </div>
                  <button class="btn btn-seeMore">SEE MORE</button>
                </div>
              </div>
              <div class="card">
                <div class="card-header">
                  <img src="img/av1.png" class="card-img" />
                </div>
                <div class="card-body">
                  <h6 class="att-heading">Adventure Cove Waterpark</h6>
                  <div class="buy-row d-flex flex-row justify-content-around w-100 flex-wrap">
                    <div class="align-items-center align-self-center">
                      <p class="price-p">Price from</p>
                      <h6 class="att-price align-items-center align-self-center">$38.<span style="font-size:0.8em">00</span></h6>
                    </div>
                    <div class="align-items-center align-self-center">
                      <button class="btn btn-primary btn-buy align-items-center align-self-center" data-bs-toggle="modal" data-bs-target="#exampleModal">Buy Now</button>
                    </div>
                  </div>
                  <div class="att-info">
                    <p class="att-subheading">Resort World Sentosa</p>
                    <p class="att-text">From zooming down high-speed water slides to drifting lazily down a winding river</p>
                  </div>
                  <button class="btn btn-seeMore">SEE MORE</button>
                </div>
              </div>
            </div>
          </center>
        </div>
      </div>
    </div>

    <div class="accordion" id="accordionPanelsStayOpenExample">
      <div class="accordion-item">
          <button class="accordion-button btn btn-success" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="true" aria-controls="panelsStayOpen-collapseOne">
            <i class="fa fa-shopping-cart"></i> Cart (<span id="cartCount">0</span>)
          </button>
        <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse show" aria-labelledby="panelsStayOpen-headingOne">
          <div class="accordion-body">
            <table class="table" id="cartTable">
              <tbody id="cartBody">
              </tbody>
            </table>
            <div id="cartFormDiv" class="cartFormDiv">
              <form class="row g-3 cartForm">
                <div class="col-md-6">
                  <input type="email" class="form-control" id="inputEmail4" placeholder="Email Addess">
                </div>
                <div class="col-md-6">
                  <input type="text" class="form-control" id="inputName4" placeholder="Full Name">
                </div>
                <div class="col-md-6">
                  <input type="text" class="form-control" id="inputCity" placeholder="City">
                </div>
                <div class="col-md-6">
                  <input type="text" class="form-control" id="inputZip" placeholder="Zip Code">
                </div>
                <div class="col-12">
                  <input type="text" class="form-control" id="inputCCNo" placeholder="Credit Card No">
                </div>
                <div class="col-md-6">
                  <input type="date" class="form-control" id="inputCCExpiry" placeholder="Credit Card Expiry Date">
                </div>
                <div class="col-md-6">
                  <input type="text" class="form-control" id="inputCCCVV" placeholder="CVV Number">
                </div>
                <div class="col-12">
                  <input type="text" class="form-control" id="inputAddress" placeholder="1234 Main St">
                </div>
                <div class="col-12">
                  <button type="submit" class="btn btn-danger cartButton">Complete Purchase</button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
   </div>

  </body>
</html>